<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting started Â· Tractography in Julia</title><meta name="title" content="Getting started Â· Tractography in Julia"/><meta property="og:title" content="Getting started Â· Tractography in Julia"/><meta property="twitter:title" content="Getting started Â· Tractography in Julia"/><meta name="description" content="Documentation for Tractography in Julia."/><meta property="og:description" content="Documentation for Tractography in Julia."/><meta property="twitter:description" content="Documentation for Tractography in Julia."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Tractography in Julia</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Getting started</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Basic-use"><span>Basic use</span></a></li><li><a class="tocitem" href="#Step-1:-Define-a-TMC"><span>Step 1: Define a TMC</span></a></li><li><a class="tocitem" href="#Step-2:-Define-the-seeds"><span>Step 2: Define the seeds</span></a></li><li><a class="tocitem" href="#Step-3:-Chose-a-sample-algorithm"><span>Step 3: Chose a sample algorithm</span></a></li><li><a class="tocitem" href="#Step-4:-Sample-the-streamlines"><span>Step 4: Sample the streamlines</span></a></li><li><a class="tocitem" href="#Optional:-export-the-result-for-mrview"><span>Optional: export the result for <code>mrview</code></span></a></li><li class="toplevel"><a class="tocitem" href="#Optimal-use"><span>Optimal use</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../fcup/">FCUP</a></li><li><a class="tocitem" href="../gpu/">GPU example</a></li></ul></li><li><a class="tocitem" href="../algos/">Algorithms</a></li><li><a class="tocitem" href="../plot/">Plotting</a></li><li><a class="tocitem" href="../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting started</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Get-started-with-with-Tractography.jl"><a class="docs-heading-anchor" href="#Get-started-with-with-Tractography.jl">ðŸš€ Get started with with Tractography.jl</a><a id="Get-started-with-with-Tractography.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Get-started-with-with-Tractography.jl" title="Permalink"></a></h1><ul><li><a href="#Get-started-with-with-Tractography.jl">ðŸš€ Get started with with Tractography.jl</a></li><li><a href="#Basic-use">Basic use</a></li><li class="no-marker"><ul><li><a href="#Step-1:-Define-a-TMC">Step 1: Define a TMC</a></li><li><a href="#Step-2:-Define-the-seeds">Step 2: Define the seeds</a></li><li><a href="#Step-3:-Chose-a-sample-algorithm">Step 3: Chose a sample algorithm</a></li><li><a href="#Step-4:-Sample-the-streamlines">Step 4: Sample the streamlines</a></li><li><a href="#Optional:-export-the-result-for-mrview">Optional: export the result for <code>mrview</code></a></li></ul></li><li><a href="#Optimal-use">Optimal use</a></li></ul><p>This tutorial will introduce you to the functionalities for computing streamlines.</p><h1 id="Basic-use"><a class="docs-heading-anchor" href="#Basic-use">Basic use</a><a id="Basic-use-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-use" title="Permalink"></a></h1><p>In this example, we will sample <code>Nmc</code> streamlines from a Tractography Markov Chain (TMC).</p><pre><code class="language-julia hljs">using Tractography
const TG = Tractography

model = TMC(Î”t = 0.125f0,
            odfdata = ODFData((@__DIR__) * &quot;/../../examples/fod-FC.nii.gz&quot;),
            )
Nmc = 10
seeds = rand(Float32, 6, Nmc)
alg = Probabilistic()
streamlines, tract_length = sample(model, alg, seeds);
size(streamlines)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(3, 1000, 10)</code></pre><h2 id="Step-1:-Define-a-TMC"><a class="docs-heading-anchor" href="#Step-1:-Define-a-TMC">Step 1: Define a TMC</a><a id="Step-1:-Define-a-TMC-1"></a><a class="docs-heading-anchor-permalink" href="#Step-1:-Define-a-TMC" title="Permalink"></a></h2><p>We define a Tractography Markov Chain (TMC) model as follows:</p><pre><code class="language-julia hljs">model = TMC(Î”t = 0.125f0,
            odfdata = ODFData((@__DIR__) * &quot;/../../examples/fod-FC.nii.gz&quot;),
            )</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr36"><span class="sgr1">TMC with elype Float32</span></span>
 â”œâ”€ Î”t = 0.125
 â”œâ”€ minimal probability = 0.0
 â”œâ”€ cone                = Cone{Float32}(90.0f0)
 â”œâ”€ mollifier           = default_mollifier
 â”œâ”€ evaluation of SH    = ComputeAllODF()
 â””â”€ data : â‹¯
</code></pre><h2 id="Step-2:-Define-the-seeds"><a class="docs-heading-anchor" href="#Step-2:-Define-the-seeds">Step 2: Define the seeds</a><a id="Step-2:-Define-the-seeds-1"></a><a class="docs-heading-anchor-permalink" href="#Step-2:-Define-the-seeds" title="Permalink"></a></h2><pre><code class="language-julia hljs">Nmc = 10 # Monte Carlo sample
seeds = rand(Float32, 6, Nmc)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">6Ã—10 Matrix{Float32}:
 0.482133  0.919984    0.597076  0.223006   â€¦  0.715974  0.0132977  0.999007
 0.183866  0.676719    0.522552  0.193793      0.347626  0.819398   0.024398
 0.51904   0.724944    0.184424  0.726273      0.21838   0.177547   0.514308
 0.969762  0.941341    0.354302  0.457299      0.601241  0.964517   0.515406
 0.386831  0.00312221  0.965196  0.206645      0.591919  0.773075   0.605947
 0.303236  0.727246    0.277194  0.0743625  â€¦  0.960313  0.654268   0.262725</code></pre><h2 id="Step-3:-Chose-a-sample-algorithm"><a class="docs-heading-anchor" href="#Step-3:-Chose-a-sample-algorithm">Step 3: Chose a sample algorithm</a><a id="Step-3:-Chose-a-sample-algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Step-3:-Chose-a-sample-algorithm" title="Permalink"></a></h2><pre><code class="language-julia hljs">alg = Probabilistic()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Probabilistic()</code></pre><h2 id="Step-4:-Sample-the-streamlines"><a class="docs-heading-anchor" href="#Step-4:-Sample-the-streamlines">Step 4: Sample the streamlines</a><a id="Step-4:-Sample-the-streamlines-1"></a><a class="docs-heading-anchor-permalink" href="#Step-4:-Sample-the-streamlines" title="Permalink"></a></h2><pre><code class="language-julia hljs">streamlines, tract_length = sample(model, alg, seeds);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(Float32[0.4821326 0.5911968 â€¦ -1.5085433 -1.5085433; 0.1838659 0.21893732 â€¦ 2.7361252 2.7361252; 0.51904 0.46903998 â€¦ -1.317835 -1.317835;;; 0.9199836 1.0120758 â€¦ -1.5151168 -1.5151168; 0.676719 0.59597844 â€¦ 1.3272918 1.3272918; 0.7249437 0.7499437 â€¦ 1.2618185 1.2618185;;; 0.59707636 0.48853233 â€¦ -0.52666163 -0.52666163; 0.5225524 0.55344146 â€¦ 4.090483 4.090483; 0.18442369 0.2381737 â€¦ -1.5124512 -1.5124512;;; 0.2230056 0.2789541 â€¦ -1.5595051 -1.5595051; 0.19379252 0.21964215 â€¦ 2.6964614 2.6964614; 0.7262731 0.8350231 â€¦ -0.6724767 -0.6724767;;; 0.29774874 0.39259368 â€¦ -0.77648723 -0.77648723; 0.2642545 0.30366105 â€¦ -1.5498416 -1.5498416; 0.7592697 0.68801975 â€¦ 1.7342687 1.7342687;;; 0.84811014 0.9261059 â€¦ -1.567158 -1.567158; 0.75399125 0.8257729 â€¦ 3.2950242 3.2950242; 0.07142067 0.0051706657 â€¦ -0.71420443 -0.71420443;;; 0.98524475 0.9183717 â€¦ 1.1534418 1.1534418; 0.07637179 0.02111791 â€¦ -1.5642922 -1.5642922; 0.98378706 1.0737871 â€¦ 1.4512868 1.4512868;;; 0.71597403 0.629993 â€¦ 2.338033 2.338033; 0.34762645 0.43834966 â€¦ -1.5787914 -1.5787914; 0.2183801 0.21963009 â€¦ 0.7308799 0.7308799;;; 0.013297737 0.05830703 â€¦ -1.5228755 -1.5228755; 0.81939805 0.73062855 â€¦ -0.9314445 -0.9314445; 0.17754656 0.25317156 â€¦ 1.6675463 1.6675463;;; 0.999007 1.0618509 â€¦ 0.110313825 0.110313825; 0.024398029 0.1247755 â€¦ 3.1688662 3.1688662; 0.5143076 0.4743076 â€¦ -1.5138177 -1.5138177], UInt32[0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000])</code></pre><h2 id="Optional:-export-the-result-for-mrview"><a class="docs-heading-anchor" href="#Optional:-export-the-result-for-mrview">Optional: export the result for <code>mrview</code></a><a id="Optional:-export-the-result-for-mrview-1"></a><a class="docs-heading-anchor-permalink" href="#Optional:-export-the-result-for-mrview" title="Permalink"></a></h2><pre><code class="language-julia hljs">TG.save_streamlines(&quot;tractogram-julia.tck&quot;, streamlines)</code></pre><h1 id="Optimal-use"><a class="docs-heading-anchor" href="#Optimal-use">Optimal use</a><a id="Optimal-use-1"></a><a class="docs-heading-anchor-permalink" href="#Optimal-use" title="Permalink"></a></h1><p>It is often better to cache some data when computing batches of streamlines. This would be done as follows</p><pre><code class="language-julia hljs">model = TMC(Î”t = 0.125f0,
            odfdata = ODFData((@__DIR__) * &quot;/../../examples/fod-FC.nii.gz&quot;),
            )
Nmc = 10
seeds = rand(Float32, 6, Nmc)
streamlines = zeros(Float32, 6, 20, Nmc)
tract_length = zeros(UInt32, Nmc)
alg = Probabilistic()
cache = TG.init(model, alg)
# this can be called repeatedly after updating seeds for example
TG.sample!(streamlines, tract_length, model, cache, alg, seeds);
size(streamlines)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(6, 20, 10)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">Â« Home</a><a class="docs-footer-nextpage" href="../fcup/">FCUP Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 29 September 2025 15:40">Monday 29 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
